{"version":3,"sources":["Filter.js","services/Service.js","PersonForm.js","Persons.js","Message.js","App.js","index.js"],"names":["Filter","persons","setPersons","newFilter","setNewFilter","value","onChange","event","target","filter","person","name","trim","toLowerCase","includes","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","setFilteredPersons","setMessage","setError","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","number","b","a","length","window","confirm","changedPerson","find","p","Service","returnedPerson","map","setTimeout","concat","catch","error","type","Persons","newFilteredPersons","key","onClick","ask","changedPersons","returnedPersons","deletePerson","Message","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useEffect","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.17b399e8.chunk.js","sourcesContent":["import React from 'react'\nconst Filter = ({persons, setPersons, newFilter, setNewFilter}) => {\n    const filter = (event) => {\n        setNewFilter(event.target.value);\n        setPersons(persons.filter((person) => person.name.trim().toLowerCase().includes(event.target.value.trim().toLowerCase())));\n    }\n    return(\n        <div>\n        filter shown with<input value={newFilter}\n                                onChange={filter}/>\n        </div>\n    )\n}\nexport default Filter","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject);\n    return request.then(response => response.data);\n}\nconst del = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n}\n\nexport default { getAll, create, update, del }","import React, { useState } from 'react'\nimport Service from './services/Service';\nconst PersonForm = ({persons, setPersons, setNewFilter, setFilteredPersons, setMessage, setError}) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    }\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    }\n    const addName = (event) => {\n        event.preventDefault();\n        const person = {\n            name: newName,\n            number: newNumber\n        }\n        const test = [person,...persons];\n        const b = test.filter((a)=> a.name===person.name);\n        if(b.length>=2){\n            const result = window.confirm(`${newName} is already added to phonebook,replace the old number with a new one?`);\n            if(result === true){\n                const person = persons.find((p)=> p.id === b[1].id);\n                const changedPerson = { ...person, number : newNumber}\n                Service.update(b[1].id, changedPerson).then(\n                    returnedPerson =>{\n                        setPersons(persons.map((p) => p.id !== b[1].id ? p : returnedPerson));\n                        setFilteredPersons(persons.map((p) => p.id !== b[1].id ? p : returnedPerson));\n                        setMessage(`Number changed ${returnedPerson.name}`);\n                        setTimeout(() => {\n                            setMessage(null)\n                            }, 5000);\n                        }\n                )\n            }\n        }\n        else{\n            Service.create(person).then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson));\n                setFilteredPersons(persons.concat(returnedPerson));\n                setMessage(`Added ${returnedPerson.name}`);\n                setTimeout(() => {\n                    setMessage(null)\n                  }, 5000);\n            }).catch( error =>{\n                setError(true);\n                setMessage(error.response.data.error);\n            });\n            setNewName('');\n            setNewNumber('');\n            setNewFilter('');\n        }\n    }  \n    return(\n        <form onSubmit={addName}>\n            <div>\n            name: <input value={newName}\n                        onChange={handleNameChange}/>\n            </div>\n            <div>\n            number: <input value={newNumber}\n                            onChange={handleNumberChange}/>\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\nexport default PersonForm","import React from 'react'\nimport Service from './services/Service'\nconst Persons = ({newFilteredPersons, persons, setPersons, setFilteredPersons, setError, setMessage}) => {\n    const deletePerson = (id) => {\n        const ask = persons.filter((person) => person.id === id);\n        const result = window.confirm(`Delete ${ask[0].name}?`)\n        if(result===true){\n            const person = persons.filter((person) => person.id !== id);\n            const changedPersons = [...person];\n            Service.del(id).then(returnedPersons => {\n                setPersons(changedPersons);\n                setFilteredPersons(changedPersons);\n            }).catch(error => {\n                setError(true);\n                setMessage(`Information of ${ask.name} has alread been removed from the server`);\n            })\n        }        \n    }\n    return(\n        <div>\n            {newFilteredPersons.map((person)=><div key={person.id}>{person.name}  {person.number}<button onClick={()=> deletePerson(person.id)}>delete</button></div>)}\n        </div>\n    )\n}\nexport default Persons","import React from 'react';\nconst Message = ({message, error}) =>\n{\n    const messageStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n      }\n    const errorStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if(message=== null){\n        return null;\n    }\n    if(error===true){\n        return(\n            <div style={errorStyle}>\n                {message} \n            </div>\n        )\n    }\n    return(\n        <div style={messageStyle}>\n           {message} \n        </div>\n    )\n}\nexport default Message;","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Service from './services/Service'\nimport Message from './Message'\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [newFilteredPersons, setFilteredPersons] = useState(persons);\n  const [newFilter, setNewFilter] = useState('');\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(false);\n  useEffect(()=>{\n      Service.getAll().then(initialPersons => {\n        setPersons(initialPersons);\n        setFilteredPersons(initialPersons);\n      })\n  }, []);\n  return (\n    <div>\n      <Message message={message} error={error}/>\n      <h2>Phonebook</h2>\n      <Filter persons={persons} setPersons={setFilteredPersons} newFilter={newFilter} setNewFilter={setNewFilter}></Filter>\n      <h3>add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} setNewFilter={setNewFilter} setFilteredPersons={setFilteredPersons} setMessage={setMessage} setError={setError}></PersonForm>\n      <h2>Numbers</h2>\n      <Persons newFilteredPersons={newFilteredPersons} persons={persons} setPersons={setPersons} setFilteredPersons={setFilteredPersons} setError={setError} setMessage={setMessage}></Persons>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}